@model List<CoromotoAccess.Models.Nomina>
@{
    ViewBag.Title = "Mis Boletas de Pago";
}

<link href="~/Styles/css/tabla.css" rel="stylesheet" />

<div class="container mt-5">
    <div class="d-flex flex-column flex-md-row justify-content-between align-items-center gap-3 mb-4 p-3 bg-light rounded shadow-sm">
        <h2 class="m-0 text-dark fw-bold">Mis Boletas de Pago</h2>
    </div>

    <div class="villa-container">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h3 class="villa-title m-0">Historial de Pagos</h3>
            <a href="@Url.Action("DescargarHistoricoNominas", "RecursosHumanos")"
               class="btn btn-sm btn-success"
               title="Descargar histórico de pagos">
                <i class="fas fa-file-download"></i> Histórico PDF
            </a>
        </div>

        <div class="table-responsive">
            <table class="villa-table table table-sm table-striped text-center">
                <thead class="table-dark">
                    <tr>
                        <th>Salario</th>
                        <th>Bono</th>
                        <th>Multa</th>
                        <th>Total</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model != null && Model.Any())
                    {
                        foreach (var nomina in Model)
                        {
                            <tr>
                                <td>$@nomina.Salario</td>
                                <td>$@nomina.Bono</td>
                                <td>$@nomina.Multa</td>
                                <td class="fw-bold text-success">$@nomina.Total</td>
                                <td>
                                    <a href="@Url.Action("DescargarBoletaPago", "RecursosHumanos", new { idNomina = nomina.IdNomina })"
                                       class="btn btn-sm btn-outline-primary"
                                       title="Descargar PDF">
                                        <i class="fas fa-file-pdf"></i> PDF
                                    </a>
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="5" class="text-muted">No hay boletas de pago disponibles.</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
